<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1283px" preserveAspectRatio="none" style="width:1158px;height:1283px;" version="1.1" viewBox="0 0 1158 1283" width="1158px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pxx4ixac2ua1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="1264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1140" x="6" y="8"/><rect fill="#FFFFFF" height="1232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1134" x="9" y="37.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="1146" y1="34.2969" y2="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="511" y="25.9951">Main: stat machine</text><ellipse cx="565" cy="57.2969" fill="#000000" filter="url(#f1pxx4ixac2ua1)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="512.75" y="103.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="512.75" x2="617.75" y1="129.5938" y2="129.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="522.75" y="121.292">MainStarting</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="1068.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1096" x="17" y="189.2969"/><rect fill="#FFFFFF" height="1036" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1090" x="20" y="218.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="1113" y1="215.5938" y2="215.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="515" y="207.292">MainOperating</text><!--cluster Display--><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="846" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1020" x="44" y="244.5938"/><rect fill="#FFFFFF" height="813.7031" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1014" x="47" y="273.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="44" x2="1064" y1="270.8906" y2="270.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="475.5" y="261.5889">Display: state machine</text><!--cluster OperatingMode--><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="522" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="972" x="68" y="544.5938"/><rect fill="#FFFFFF" height="489.7031" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="966" x="71" y="573.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="68" x2="1040" y1="570.8906" y2="570.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="475.5" y="561.5889">OperatingMode: mode</text><!--cluster ConfiguringMode--><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="206" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="393" x="290" y="288.5938"/><rect fill="#FFFFFF" height="173.7031" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="387" x="293" y="317.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="290" x2="683" y1="314.8906" y2="314.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="402.5" y="305.5889">ConfiguringMode: mode</text><ellipse cx="264" cy="453.5938" fill="#000000" filter="url(#f1pxx4ixac2ua1)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="312.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="378" x="646" y="580.5938"/><rect fill="#FFFFFF" height="280" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="372" x="649" y="609.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="646" x2="1024" y1="606.8906" y2="606.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="766.5" y="598.5889">Rain: state machine</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="756.85" y="619.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="756.85" x2="825.85" y1="646.1875" y2="646.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="766.85" y="637.8857">NoRain</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="677.85" y="723.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="677.85" x2="774.85" y1="750.1875" y2="750.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="687.85" y="741.8857">WaitToRain</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="742.85" y="827.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="742.85" x2="813.85" y1="854.1875" y2="854.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="752.85" y="845.8857">Raining</text><!--link NoRain to WaitToRain--><path d="M756.7596,646.4396 C726.1055,648.9806 682.8034,658.0706 661.1,687.8906 C652.0091,700.3816 660.099,712.3196 673.2711,722.2116 " fill="none" id="NoRain-WaitToRain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="677.5088,725.2146,672.4776,716.7478,673.429,722.3241,667.8527,723.2754,677.5088,725.2146" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="662.1" y="700.9575">t&gt;TH &amp;&amp; rh&lt;RH</text><!--link WaitToRain to Raining--><path d="M687.0705,773.9986 C674.9471,784.5767 666.7107,797.4097 675.1,809.8906 C689.0217,830.6021 715.1342,841.1058 737.5824,846.4298 " fill="none" id="WaitToRain-Raining" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="742.6059,847.551,734.6935,841.6864,737.726,846.4617,732.9506,849.4942,742.6059,847.551" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="676.1" y="804.9575">RAIN_DELAY</text><!--link Raining to WaitToRain--><path d="M770.852,827.604 C767.103,816.4269 762.058,803.1732 756.1,791.8906 C753.7149,787.374 750.9047,782.7866 747.9769,778.3837 " fill="none" id="Raining-WaitToRain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="745.0212,774.0516,746.7896,783.7404,747.8393,778.1818,753.3979,779.2315,745.0212,774.0516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="766.1" y="804.9575">RAIN_DURATION</text><!--link Raining to NoRain--><path d="M813.377,846.7105 C835.45,841.4472 862.242,830.9072 876.1,809.8906 C905.949,764.6236 904.715,733.9476 876.1,687.8906 C866.016,671.6606 847.599,661.5136 830.48,655.2696 " fill="none" id="Raining-NoRain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="825.694,653.6106,832.8863,660.339,830.4179,655.2491,835.5078,652.7807,825.694,653.6106" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="898.1" y="752.9575">t&lt;TH || rh&gt;RH</text><!--link WaitToRain to NoRain--><path d="M754.4833,723.7646 C759.831,718.2806 765.018,712.1986 769.1,705.8906 C775.16,696.5246 779.854,685.2606 783.319,675.0336 " fill="none" id="WaitToRain-NoRain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="784.923,670.1096,778.3323,677.4283,783.3745,674.8638,785.939,679.9059,784.923,670.1096" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="779.1" y="700.9575">t&lt;TH || rh&gt;RH</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="104.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="543.5" x="84.75" y="684.5938"/><rect fill="#FFFFFF" height="72" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="537.5" x="87.75" y="713.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="84.75" x2="628.25" y1="710.8906" y2="710.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="316" y="702.5889">DisplayMain</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="95.75" y="723.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="95.75" x2="304.75" y1="750.1875" y2="750.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="189" x="105.75" y="741.8857">IdleChecker: state machine</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="273" x="322.75" y="723.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322.75" x2="595.75" y1="750.1875" y2="750.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="253" x="332.75" y="741.8857">UpdateMeasurement: state machine</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="104.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="290.5" x="211" y="946.5938"/><rect fill="#FFFFFF" height="72" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="284.5" x="214" y="975.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="211" x2="501.5" y1="972.8906" y2="972.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="319.75" y="964.5889">DisplayIdle</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="247" x="222" y="985.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="222" x2="469" y1="1012.1875" y2="1012.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="227" x="232" y="1003.8857">IdleMeasurement: state machine</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="306.75" y="428.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="306.75" x2="405.75" y1="454.8906" y2="454.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="316.75" y="446.5889">Configuring</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="310" y="324.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="420" y1="350.8906" y2="350.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="320" y="342.5889">ConfigureSet</text><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="533" y="428.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="533" x2="667" y1="454.8906" y2="454.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="543" y="446.5889">ConfigurePersist</text><!--link *start*Display to DisplayMain--><path d="M266.854,463.3117 C277.398,495.5168 314.725,609.5258 337.601,679.3978 " fill="none" id="*start*Display-DisplayMain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="339.223,684.3498,340.2239,674.5519,337.6672,679.598,332.6211,677.0412,339.223,684.3498" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DisplayMain to DisplayIdle--><path d="M334.003,788.5967 C320.247,827.2628 307.192,881.5858 319,928.5938 C320.094,932.9508 321.523,937.3318 323.181,941.6598 " fill="none" id="DisplayMain-DisplayIdle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="325.065,946.3308,325.4061,936.4878,323.1938,941.6941,317.9875,939.4818,325.065,946.3308" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="320" y="923.6606">timeout</text><!--link DisplayIdle to DisplayMain--><path d="M369.195,946.5758 C370.347,940.5488 371.329,934.4578 372,928.5938 C377.177,883.3488 372.246,831.8938 366.535,793.7987 " fill="none" id="DisplayIdle-DisplayMain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="365.762,788.7498,363.1682,798.2509,366.5177,793.6923,371.0763,797.0418,365.762,788.7498" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="374" y="923.6606">select, set</text><!--link Configuring to DisplayMain--><path d="M356,484.0418 C356,531.5458 356,625.6827 356,684.3608 " fill="none" id="Configuring-DisplayMain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="356,479.0388,352,488.0388,356,484.0388,360,488.0388,356,479.0388" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="357" y="523.6606">select</text><!--link ConfigureSet to Configuring--><path d="M345.966,379.5087 C343.927,383.7518 342.171,388.1828 341,392.5938 C337.886,404.3208 340.443,417.3848 344.273,428.3217 " fill="none" id="ConfigureSet-Configuring" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="348.275,374.9868,340.619,381.1824,346.0007,379.4396,347.7436,384.8213,348.275,374.9868" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="342" y="405.6606">set</text><!--link ConfigureSet to ConfigureSet--><path d="M420.073,340.3108 C430.574,341.4208 438,344.5158 438,349.5938 C438,353.7988 432.907,356.6437 425.193,358.1287 " fill="none" id="ConfigureSet-ConfigureSet" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="420.073,358.8768,429.5567,361.5339,425.0205,358.1541,428.4003,353.6179,420.073,358.8768" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="444" y="353.6606">select</text><!--link ConfigureSet to Configuring--><path d="M365.539,374.8808 C365.54,385.8208 365.204,398.8828 364,410.5938 C363.574,414.7338 362.952,419.0738 362.238,423.3298 " fill="none" id="ConfigureSet-Configuring" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="361.366,428.2678,366.8708,420.1009,362.2359,423.344,358.9928,418.7091,361.366,428.2678" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="366" y="405.6606">set</text><!--link Configuring to Configuring--><path d="M405.377,444.1867 C415.628,445.1767 423,448.3128 423,453.5938 C423,457.9678 417.945,460.8697 410.385,462.2998 " fill="none" id="Configuring-Configuring" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="405.377,463.0008,414.8445,465.7149,410.3288,462.3078,413.7358,457.7921,405.377,463.0008" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="429" y="457.6606">select</text><!--link Configuring to ConfigurePersist--><path d="M405.377,453.5938 C440.427,453.5938 488.05,453.5938 527.415,453.5938 " fill="none" id="Configuring-ConfigurePersist" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="532.665,453.5938,523.665,449.5938,527.665,453.5938,523.665,457.5938,532.665,453.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="449.5" y="445.6606">select</text><!--link ConfigurePersist to DisplayMain--><path d="M578.773,479.0388 C540.029,523.6588 456.964,619.3198 403.935,680.3898 " fill="none" id="ConfigurePersist-DisplayMain" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="400.487,684.3608,409.4089,680.1894,403.7659,680.586,403.3693,674.9431,400.487,684.3608" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="548" y="523.6606">select, set</text><line style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 8.0,10.0;" x1="22" x2="1106" y1="1116.5938" y2="1116.5938"/><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="28" y="1124.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="28" x2="245" y1="1150.8906" y2="1150.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="38" y="1142.5889">SelectButton: state machine</text><line style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 8.0,10.0;" x1="22" x2="1106" y1="1184.5938" y2="1184.5938"/><rect fill="#FEFECE" filter="url(#f1pxx4ixac2ua1)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="28" y="1192.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="28" x2="225" y1="1218.8906" y2="1218.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="38" y="1210.5889">SetButton: state machine</text><!--link *start*Main to MainStarting--><path d="M565,67.3169 C565,75.1769 565,87.0169 565,98.1069 " fill="none" id="*start*Main-MainStarting" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="565,103.1269,569,94.1269,565,98.1269,561,94.1269,565,103.1269" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MainStarting to MainOperating--><path d="M565,153.6469 C565,161.9469 565,172.1469 565,183.9369 " fill="none" id="MainStarting-MainOperating" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="565,189.0769,569,180.0769,565,184.0769,561,180.0769,565,189.0769" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

  state "Main: stat machine" as Main {
     [*] - -> MainStarting
     MainStarting - -> MainOperating

     state  MainOperating {

        state "Display: state machine" as Display {
          [*] - -> DisplayMain
	  DisplayMain - -> DisplayIdle : timeout
	  DisplayIdle - -> DisplayMain : select, set
	  DisplayMain -up-> Configuring : select
	  Configuring -up-> ConfigureSet : set
	  ConfigureSet - -> ConfigureSet : select
	  ConfigureSet - -> Configuring : set
	  Configuring - -> Configuring : select
	  Configuring -> ConfigurePersist : select
	  ConfigurePersist -down-> DisplayMain : select, set
          state "OperatingMode: mode" as OperatingMode {

	     state "Rain: state machine" as Rain {
	       state NoRain
	       state WaitToRain
	       state Raining
	       ' [*] -> NoRain
	       NoRain - -> WaitToRain : t>TH && rh<RH
	       WaitToRain - -> Raining : RAIN_DELAY
	       Raining - -> WaitToRain : RAIN_DURATION
	       Raining - -> NoRain : t<TH || rh>RH
	       WaitToRain - -> NoRain : t<TH || rh>RH
	     }
	     state DisplayMain {

		state "IdleChecker: state machine" as IdleChecker {
		}
		state "UpdateMeasurement: state machine" as UpdateMeasurement {
		}

	     }
	     state DisplayIdle {

		state "IdleMeasurement: state machine" as IdleMeasurement {
		}

	     }
        } 
        state "ConfiguringMode: mode" as ConfiguringMode {
	  state Configuring {
          }
	  state ConfigureSet {
          }
	  state ConfigurePersist {
          }
        }
        }
        - -
        state "SelectButton: state machine" as SelectButton {
        }
        - -
        state "SetButton: state machine" as  SetButton { 
        }
     }
  }
@enduml

PlantUML version 1.2017.16(Sun Sep 03 13:53:37 EEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 3.13.0-137-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>